<form nz-form [nzLayout]="'vertical'" [formGroup]="dcpForm">
    <nz-form-item>
        <nz-form-label nzRequired>Plant key</nz-form-label>

        <nz-form-control nzErrorTip="Please input your value!">
            <nz-select
                nzPlaceHolder="Last used plant key"
                formControlName="plantKey"
                [compareWith]="compareFn"
                (ngModelChange)="plantKeyChangeHandler($event)"
            >
                <nz-option
                    *ngFor="let item of plantKeys$ | async"
                    [nzLabel]="item"
                    [nzValue]="item"
                ></nz-option>
            </nz-select>
        </nz-form-control>
    </nz-form-item>

    <nz-form-item>
        <nz-form-label nzRequired>Route</nz-form-label>

        <nz-form-control nzErrorTip="Please input your value!">
            <nz-select
                nzPlaceHolder="Last used route"
                formControlName="route"
                [compareWith]="compareFn"
                (ngModelChange)="routeChangeHandler($event)"
            >
                <nz-option
                    *ngFor="let item of routes$ | async"
                    [nzLabel]="item"
                    [nzValue]="item"
                ></nz-option>
            </nz-select>
        </nz-form-control>
    </nz-form-item>

    <nz-form-item>
        <nz-form-label nzRequired>Operation</nz-form-label>

        <nz-form-control nzErrorTip="Please input your operation value!">
            <nz-select
                nzPlaceHolder="Last used operation"
                formControlName="operation"
                [compareWith]="compareFn"
                (ngModelChange)="operationChangeHandler($event)"
            >
                <nz-option
                    *ngFor="let item of operations$ | async"
                    [nzLabel]="item"
                    [nzValue]="item"
                ></nz-option>
            </nz-select>
        </nz-form-control>
    </nz-form-item>

    <nz-form-item>
        <nz-form-label nzRequired>Line number and input prompt</nz-form-label>

        <nz-form-control nzErrorTip="Please input your value!">
            <nz-select
                nzPlaceHolder="Last used line number"
                formControlName="lineNumberAndInputPrompt"
                [compareWith]="compareFn"
                (ngModelChange)="lineNumberAndInputPromptChangeHandler($event)"
            >
                <nz-option
                    *ngFor="let item of lineNumberAndInputPrompts$ | async"
                    [nzLabel]="item"
                    [nzValue]="item"
                ></nz-option>
            </nz-select>
        </nz-form-control>
    </nz-form-item>

    <nz-form-item>
        <nz-form-label nzRequired>Part number</nz-form-label>

        <nz-form-control nzErrorTip="Please input your value!">
            <nz-select
                nzPlaceHolder="Last used part number"
                formControlName="partNumber"
                [compareWith]="compareFn"
                (ngModelChange)="partNumberChangeHandler($event)"
            >
                <nz-option
                    *ngFor="let item of partNumbers$ | async"
                    [nzLabel]="item"
                    [nzValue]="item"
                ></nz-option>
            </nz-select>
        </nz-form-control>
    </nz-form-item>

    <nz-form-item>
        <nz-form-label nzRequired>Dependent variable from date</nz-form-label>

        <nz-form-control nzErrorTip="Please input your value!">
            <nz-date-picker
                nzPlaceHolder="Select a date"
                formControlName="fromDate"
            ></nz-date-picker>
        </nz-form-control>
    </nz-form-item>

    <nz-form-item>
        <nz-form-label nzRequired>Dependent variable to date</nz-form-label>

        <nz-form-control nzErrorTip="Please input your value!">
            <nz-date-picker
                nzPlaceHolder="Select a date"
                formControlName="toDate"
            ></nz-date-picker>
        </nz-form-control>
    </nz-form-item>

    <nz-form-item>
        <nz-form-label>Dept of analysis</nz-form-label>

        <nz-form-control nzErrorTip="Please input dept value!">
            <nz-input-number
                formControlName="deptOfAnalysis"
                [nzMin]="0"
                [nzMax]="10"
                [nzStep]="1"
            ></nz-input-number>
        </nz-form-control>
    </nz-form-item>

    <nz-form-item>
        <nz-form-label>Filter outliers</nz-form-label>

        <nz-form-control nzErrorTip="Please input your value!">
            <nz-switch formControlName="filterOutliers"></nz-switch>
        </nz-form-control>
    </nz-form-item>

    <nz-form-item>
        <nz-form-label>Minimum Y</nz-form-label>

        <nz-form-control nzErrorTip="Please input minimum Y value!">
            <nz-input-number
                formControlName="minimumY"
                [nzMin]="0"
                [nzMax]="1"
                [nzStep]="0.1"
                [nzPlaceHolder]="'Min Y'"
            ></nz-input-number>
        </nz-form-control>
    </nz-form-item>

    <nz-form-item>
        <nz-form-label>Maximum Y</nz-form-label>

        <nz-form-control nzErrorTip="Please input maximum Y value!">
            <nz-input-number
                formControlName="maximumY"
                [nzMin]="0"
                [nzMax]="1"
                [nzStep]="0.1"
                [nzPlaceHolder]="'Max Y'"
            ></nz-input-number>
        </nz-form-control>
    </nz-form-item>

    <nz-form-item>
        <nz-form-control>
            <button
                nz-button
                nzType="primary"
                nzBlock
                (click)="onSubmit($event)"
            >
                <i nz-icon [nzType]="'area-chart'" [nzTheme]="'outline'"></i
                >Visualize this DV
            </button>
        </nz-form-control>
    </nz-form-item>

    <nz-divider nzText="OR"></nz-divider>

    <nz-form-item>
        <nz-form-control>
            <button nz-button nzType="primary" nzBlock>
                <i nz-icon [nzType]="'caret-right'" [nzTheme]="'outline'"></i
                >Run analysis for all
            </button>
        </nz-form-control>
    </nz-form-item>

    <nz-divider nzText="OR"></nz-divider>

    <nz-form-item>
        <nz-form-control>
            <button nz-button nzType="primary" nzBlock>
                <i nz-icon [nzType]="'download'" [nzTheme]="'outline'"></i
                >Download data
            </button>
        </nz-form-control>
    </nz-form-item>
</form>
